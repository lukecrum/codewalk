{
  "hooks": {
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Run: git status --porcelain\n\nIf there are uncommitted changes, do not approve stopping. Commit the changes and create the tracking file per the codewalk workflow, then approve.\n\nIf working directory is clean, check that the most recent commit has a tracking file in .codewalk/. If missing, create it, then approve.\n\nIf clean and tracking file exists, approve stopping.",
            "timeout": 120
          }
        ]
      }
    ]
  }
}
